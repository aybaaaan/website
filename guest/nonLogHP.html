<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/HomePage.css" />
    <title>Food Restaurant Home Page</title>
</head>

<div class="background-dim"></div>

<body>
    <div class="header-container">
        <!-- ================= HEADER ================= -->
        <header class="header">
            <div class="header-content">
                <div class="logo">Mediterranean In Velvet</div>

                <button class="hamburger" id="hamburgerBtn">☰</button>
                <div class="mobile-nav" id="mobileNav">
                    <a href="#home">Home</a>
                    <a href="#menu">Menu</a>
                    <a href="#about">About</a>
                    <a href="#contact">Contact</a>
                </div>

                <nav class="nav-menu">
                    <a href="#home" class="nav-item">Home</a>
                    <a href="#menu" class="nav-item">Menu</a>
                    <a href="#about" class="nav-item">About</a>
                    <a href="#contact" class="nav-item">Contact</a>
                </nav>
                <div class="header-actions">
                    <a href="javascript:void(0)" class="action-btn" onclick="toggleCart()">Cart</a>
                    <div class="signup-button">
                        <a href="/pages/SignUpPage.html" class="action-btn" id="signupBtn">Sign Up</a>
                    
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <!-- ================= HOME ================= -->
    <section id="home" class="home-section">
    <div class="home-content">
      <div class="carousel-container">
        <h1 class="food-title">Featured Dishes</h1>
        <div id="carousel"></div>
      </div>
    </div>

    <!-- Navigation arrows -->
    <button class="carousel-nav carousel-prev" onclick="prevSlide()" aria-label="Previous image">‹</button>
    <button class="carousel-nav carousel-next" onclick="nextSlide()" aria-label="Next image">›</button>

    <!-- Indicators -->
    <div class="carousel-indicators" id="indicators"></div>
  </section>

    <!-- ================= MENU ================= -->
    <section id="menu" class="menu-section">
        <h2 class="menu-title">Menu</h2>

        <div class="menu-cards-container" id="menuCardsContainer">
            <div class="menu-cards" id="menuCards">
                <p class="card-price">₱${item.price || 0}</p>

                <!-- Food 1 -->
                <div class="menu-card">
                    <div class="card-content">
                        <h3 class="card-title">Meatball Herb Pasta</h3>
                    </div>
                </div>

                <!-- Food 2 -->
                <div class="menu-card">
                    <div class="card-content">
                        <h3 class="card-title">Mediterranean Shrimp</h3>
                    </div>
                </div>

                <!-- Food 3 -->
                <div class="menu-card">
                    <div class="card-content">
                        <h3 class="card-title">Ground Beef Stir Fry</h3>
                    </div>
                </div>

                <!-- Food 4 -->
                <div class="menu-card">
                    <div class="card-content">
                        <h3 class="card-title">Chopped Salad</h3>
                        
                    </div>
                </div>

                <!-- Food 5 -->
                <div class="menu-card">
                    <div class="card-content">
                        <h3 class="card-title">Balsamic Mushrooms</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Arrows -->
        <div class="menu-scroll-controls">
            <button class="scroll-btn" onclick="scrollMenu(-1)">&#8249;</button>
            <button class="scroll-btn" onclick="scrollMenu(1)">&#8250;</button>
        </div>
    </section>

    <!-- ================= ABOUT ================= -->
    <section id="about" class="sample-food-section">
        <h2>About Us</h2>
        <p class="sample-food-text">Mediterranean in Velvet offers authentic flavors with modern touches.
            Our goal is to bring comfort and taste to every plate we serve.</p>
    </section>

    <!-- ================= FOOTER / CONTACT ================= -->
    <footer id ="contact" class="footer">
        <div class="footer-content">
            <div class="footer-logo-container">
                <span class="footer-logo">LOGO</span>
            </div>

            <div class="footer-nav-menu">
                <div class="footer-title-nav">Navigation</div>
                <a href="#home" class="text-nav">Home</a>
                <a href="#about" class="text-nav">About</a>
                <a href="#menu" class="text-nav">Menu</a>
                <a href="#contact" class="text-nav">Contact</a>
            </div>


            <div class="footer-social-contact">
                <div class="footer-title">Social Media</div>
                <div class="icons">
                    <span class="footer-logo-social"><img
                            src="https://www.freepnglogos.com/uploads/facebook-logo-icon/facebook-logo-icon-file-facebook-icon-svg-wikimedia-commons-4.png">
                        <a href="#"></a></span>
                    <span class="footer-logo-social"><img
                            src="https://www.freepnglogos.com/uploads/instagram-icon/instagram-photo-logo-brand-1.png">
                        <a href="#"></a></span>
                    <span class="footer-logo-social"><img
                            src="https://www.freepnglogos.com/uploads/twitter-x-logo-png/twitter-x-logo-png-9.png"> <a
                            href="#"></a></span>
                </div>
            </div>
        </div>
    </footer>
    </div>

    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="cart-sidebar">
        <button id="closeCart" class="close-btn">&times;</button>
        <h2>Your Cart</h2>
        <ul id="cartItems">
            <li>No items in cart</li>
        </ul>
        <p id="cartTotal">Total: Php 0</p>
        <button class="checkout-btn" onclick="alert('Please log in to checkout!'); window.location.href='/pages/LoginPage.html';">Checkout</button>
    </div>
    <div id="logoutPopup" class="popup-overlay">
        <div class="popup-box">
            <p>Are you sure you want to Log out?</p>
            <div class="popup-actions">
                <button id="confirmLogout" class="confirm-btn">Confirm</button>
                <button id="cancelLogout" class="cancel-btn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="/script/HomePage.js"></script>

    <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAvQnRa_q4JlxVgcifjFtKM4i2ckHTJInc",
    authDomain: "webusiteu.firebaseapp.com",
    databaseURL: "https://webusiteu-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "webusiteu",
    storageBucket: "webusiteu.firebasestorage.app",
    messagingSenderId: "974146331400",
    appId: "1:974146331400:web:a0590d7dc71dd3c00f02bd",
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  let currentSlide = 0;

  function showSlide(index) {
    const items = document.querySelectorAll(".carousel-item");
    const indicators = document.querySelectorAll(".indicator");
    if (items.length === 0) return;

    if (index >= items.length) currentSlide = 0;
    else if (index < 0) currentSlide = items.length - 1;
    else currentSlide = index;

    items.forEach((item, i) => {
      item.classList.toggle("active", i === currentSlide);
      indicators[i]?.classList.toggle("active", i === currentSlide);
    });
  }

  window.nextSlide = function () {
    showSlide(currentSlide + 1);
  };
  window.prevSlide = function () {
    showSlide(currentSlide - 1);
  };

  // ================== LOAD HOMEPAGE CAROUSEL ==================
  onValue(ref(db, "homepage"), (snapshot) => {
    const data = snapshot.val();
    const carousel = document.getElementById("carousel");
    const indicators = document.getElementById("indicators");
    carousel.innerHTML = "";
    indicators.innerHTML = "";

    if (data) {
      Object.values(data).forEach((item, index) => {
        carousel.innerHTML += `
          <div class="carousel-item ${index === 0 ? "active" : ""}">
            <img src="${item.url}" alt="${item.name}" />
            <div class="carousel-item-caption">
              <h1>${item.name}</h1>
              <p>${item.desc}</p>
            </div>
          </div>
        `;

        indicators.innerHTML += `
          <span class="indicator ${index === 0 ? "active" : ""}" 
                data-slide="${index}" onclick="showSlide(${index})"></span>
        `;
      });
      currentSlide = 0;
      showSlide(currentSlide);
    }
  });

  // ================== LOAD MENU CARDS ==================
  onValue(ref(db, "menu"), (snapshot) => {
    const data = snapshot.val();
    const menuContainer = document.getElementById("menuCards");
    menuContainer.innerHTML = "";

    if (data) {
  Object.values(data).forEach((item) => {
    menuContainer.innerHTML += `
      <div class="menu-card">
        <img src="${item.url}" alt="${item.name}">
        <div class="card-content">
          <h3 class="card-title">${item.name}</h3>
          <p>${item.desc}</p>
          <p class="card-price">₱${item.price || 0}</p>
          <button class="order-btn" onclick="goToDetails(
            '${item.name}',
            '${item.price || 0}',
            '${item.url}',
            '${item.desc}'
          )">Order</button>
        </div>
      </div>
    `;
  });
}
  });

  window.showSlide = showSlide; // allow indicators to work
</script>

    <!-- ================= REVIEW ORDER PAGE ================= -->
    <!--<div id="reviewOrderPage" class="review-order hidden">
        <header class="review-header">
            <button onclick="closeReview()" class="back-btn">← Back</button>
            <h3>Review Your Order</h3>
        </header>
        <div class="review-body" id="reviewItems">
            <p>No items yet.</p>
        </div>
        <div class="review-footer">
            <p id="reviewTotal">Total: Php 0.00</p>
            <button class="add-btn" onclick="closeReview()">Add more items</button>
            <button class="checkout-btn">Proceed to Checkout</button>
        </div>
    </div>


</body>
</html>