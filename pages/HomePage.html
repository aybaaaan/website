<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/HomePage.css" />
    <title>Food Restaurant Home Page</title>
</head>

<div class="background-dim"></div>

<body>
    <div class="header-container">
        <!-- ================= HEADER ================= -->
        <header class="header">
            <div class="header-content">
                <div class="logo">Mediterranean In Velvet</div>

                <nav class="nav-menu" id="nav-menu">
                    <a href="#home" class="nav-item">Home</a>
                    <a href="#menu" class="nav-item">Menu</a>
                    <a href="#about-us" class="nav-item">About</a>
                    <a href="#contact" class="nav-item">Contact</a>
                </nav>

                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                
                <div class="header-actions">
                    <a href="javascript:void(0)" class="action-btn" onclick="toggleCart()">Cart</a>
                    <div class="account-dropdown">
                        <a href="javascript:void(0)" class="action-btn" id="accountBtn">Account</a>
                        <div id="accountMenu" class="dropdown-menu">
                            <a href="/pages/MyInformationPage.html" class="my-info-link">My Information</a>
                              <a href="/pages/HistoryPage.html" class="order-history">Order History</a>
                            <a href="#" class="logout-option" id="logoutBtn">Log Out</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <!-- ================= HOME ================= -->
    <section class="home-section" id="home">
    <div class="home-content">
      <div class="carousel-container">

        <div id="carousel"></div>
      </div>
    </div>

    <!-- Navigation arrows -->
    <button class="carousel-nav carousel-prev" onclick="prevSlide()" aria-label="Previous image">‹</button>
    <button class="carousel-nav carousel-next" onclick="nextSlide()" aria-label="Next image">›</button>

    <!-- Indicators -->
    <div class="carousel-indicators" id="indicators"></div>
  </section>

    <!-- ================= MENU ================= -->
    <section id="menu" class="menu-section">
        <h2 class="menu-title">Menu</h2>

    <!-- Category Toggle -->
    <div class="menu-toggle">
        <button id="btnAll" class="toggle-btn active">All</button>
        <button id="btnMain" class="toggle-btn">Main Dishes</button>
        <button id="btnSide" class="toggle-btn">Side Dishes</button>
    </div>
    
    <div class="menu-cards-container" id="menuCardsContainer">
        <div class="menu-cards" id="menuCards">
            <!-- cards will be injected via JS -->
        </div>
    </div>
    </section>

    <!-- ================= ABOUT ================= -->
    <section id="about-us" class="homepage-section">
        <h2 class = "aboutus-title">About Us</h2>
        <div class="about-us-card">
            <p id="aboutUsContent">Loading...</p>
        </div>
    </section>


    <!-- ================= FOOTER / CONTACT ================= -->
    <footer id ="contact" class="footer">
        <div class="footer-content">
            <div class="footer-logo-container">
                <span class="footer-logo">LOGO</span>
            </div>

            <div class="footer-nav-menu">
                <div class="footer-title-nav">Navigation</div>
                <a href="#home" class="text-nav">Home</a>
                <a href="#about" class="text-nav">About</a>
                <a href="#menu" class="text-nav">Menu</a>
                <a href="#contact" class="text-nav">Contact</a>
            </div>


            <div class="footer-social-contact">
                <div class="footer-title">Social Media</div>
                <div class="icons">
                    <span class="footer-logo-social"><img
                            src="https://www.freepnglogos.com/uploads/facebook-logo-icon/facebook-logo-icon-file-facebook-icon-svg-wikimedia-commons-4.png">
                        <a href="#"></a></span>
                    <span class="footer-logo-social"><img
                            src="https://www.freepnglogos.com/uploads/instagram-icon/instagram-photo-logo-brand-1.png">
                        <a href="#"></a></span>
                    <span class="footer-logo-social"><img
                            src="https://www.freepnglogos.com/uploads/twitter-x-logo-png/twitter-x-logo-png-9.png"> <a
                            href="#"></a></span>
                </div>
            </div>
        </div>
    </footer>
    </div>

    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="cart-sidebar">
        <button id="closeCart" class="close-btn">&times;</button>
        <h2>Your Cart</h2>
        <ul id="cartItems">
            <li>No items in cart</li>
        </ul>
        <p id="cartTotal">Total: Php 0</p>
        <button class="checkout-btn">Checkout</button>
    </div>
    <div id="logoutPopup" class="popup-overlay">
        <div class="popup-box">
            <p>Are you sure you want to Log out?</p>
            <div class="popup-actions">
                <button id="confirmLogout" class="confirm-btn">Confirm</button>
                <button id="cancelLogout" class="cancel-btn">Cancel</button>
            </div>
        </div>
    </div>
    <!-- Order Status Toast Container -->
    <div id="orderStatusToast" style="
        position: fixed;
        top: 120px;
        left: 20px;
        z-index: 9999;
        display: flex;
        flex-direction: column-reverse;
        gap: 10px;">
    </div>

    <!-- Empty Cart Popup -->
    <div id="emptyCartPopup" class="popup-overlay">
    <div class="popup-content">
        <p>Your cart is empty! Please add items first.</p>
        <button id="emptyCartOkBtn">OK</button>
    </div>
    </div>

    <div id="notification-popup" class="notification-popup hidden">
        <p id="notification-message"></p>
    </div>

    <script type="module" src ="/script/HomePage.js"></script>

    <script type="module">
        import { listenForUserNotifications } from "/notifications/notification.js";

        const userId = CURRENT_USER_ID; 

        listenForUserNotifications(userId, (notif) => {
        console.log("New notification:", notif);
        });
    </script>

</body>
</html>